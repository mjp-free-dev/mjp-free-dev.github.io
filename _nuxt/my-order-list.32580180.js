import k from"./inputtext.esm.e9325048.js";import{s as T,a as w}from"./datatable.esm.de42daa5.js";import U from"./tristatecheckbox.esm.42e375e5.js";import{f as S,j as x,l as L,ae as N,H as n,v as R,o as $,c as M,b as a,w as o,a as u,h as d,d as D,E as f,U as O,J as q,p as A,e as E}from"./entry.7cb56bd3.js";import{u as F}from"./usePrimeDataTable.92ad7ec5.js";import{_ as B}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.esm.aef8f342.js";import"./dropdown.esm.27dd3884.js";import"./index.esm.1e4be395.js";import"./overlayeventbus.esm.0672a91f.js";import"./virtualscroller.esm.54fde903.js";import"./inputnumber.esm.6c954daf.js";import"./button.esm.33817917.js";import"./index.esm.7e5d4fb3.js";const v=i=>(A("data-v-ea3cd97f"),i=i(),E(),i),z={class:"datatable-header"},Q=v(()=>u("h5",null,"Мои заказы",-1)),j={class:"p-input-icon-left"},H=v(()=>u("i",{class:"pi pi-search"},null,-1)),J=S({__name:"my-order-list",setup(i){const h=x(),b=L(),g=N(),{tableData:_,filters:l,dataTableRef:y}=F();l.value={global:{value:null,matchMode:n.CONTAINS},id:{value:null,matchMode:n.CONTAINS},delivery_type_id:{value:null,matchMode:n.EQUALS},vat_document_required:{value:null,matchMode:n.EQUALS},comment:{value:null,matchMode:n.CONTAINS}};async function V(){const s=await b.from("orders").select().eq("user_id",h.value.id);console.log(s.data),_.value=s.data}R(()=>V());const P={globalFilterFields:["id"],filterDisplay:"row",stripedRows:!0,paginator:!0,rows:10,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",rowsPerPageOptions:[10,20,50],currentPageReportTemplate:"Показаны записи с {first} по {last}. Всего: {totalRecords}"};function C(s){g.push("/user/my-order-info?orderId="+s.data.id)}return(s,c)=>{const m=k,p=T,I=U;return $(),M("div",{class:f(["card",s.$style.root])},[a(d(w),O({ref_key:"dataTableRef",ref:y,filters:d(l),"onUpdate:filters":c[1]||(c[1]=e=>q(l)?l.value=e:null),value:d(_),"data-key":"name",class:"p-datatable-sm"},P,{onRowClick:C}),{header:o(()=>[u("div",z,[Q,u("span",j,[H,a(m,{modelValue:d(l).global.value,"onUpdate:modelValue":c[0]||(c[0]=e=>d(l).global.value=e),placeholder:"Поиск"},null,8,["modelValue"])])])]),empty:o(()=>[D(" Записи не найдены ")]),default:o(()=>[a(p,{field:"id",header:"ID","data-type":"number",class:"grid-column-id",sortable:!0},{filter:o(({filterModel:e,filterCallback:r})=>[a(m,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",onInput:t=>r()},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(p,{field:"delivery_type_id",header:"Получение",sortable:!0}),a(p,{field:"vat_document_required",header:"НДС","data-type":"boolean",class:"grid-column-vat",sortable:!0},{body:o(({data:e})=>[u("i",{class:f(["pi",{"pi-check-circle text-green-500":e.vat_document_required,"pi-times-circle text-red-400":!e.vat_document_required}])},null,2)]),filter:o(({filterModel:e,filterCallback:r})=>[a(I,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,onChange:t=>r()},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),a(p,{field:"comment",header:"Комментрарий",sortable:!0},{filter:o(({filterModel:e,filterCallback:r})=>[a(m,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"p-column-filter",onInput:t=>r()},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1})]),_:1},16,["filters","value"])],2)}}});const G="_root_1aizc_1",K={root:G},W={$style:K},ce=B(J,[["__cssModules",W],["__scopeId","data-v-ea3cd97f"]]);export{ce as default};
