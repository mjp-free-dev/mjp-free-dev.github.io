import{s as g}from"./button.esm.ae27811b.js";import{p as b}from"./index.88c16502.js";import{A as p}from"./AppCardGroup.5379585f.js";import F from"./product-form.a1a46f92.js";import{r as B,j as C,c,b as r,w as t,a as s,k as m,n as f,q as x,o,F as N,z as w,G as D}from"./entry.ef3daa6b.js";import S from"./order-form.2b4f655e.js";import{W as K}from"./WideButton.6b71b558.js";import"./index.esm.b66eecda.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./AppCard.f3d13d9d.js";const P={__name:"new-order-form",props:["msgSource","readonly","orderName"],emits:["add","delete","submit"],setup(y,{emit:n}){const e=y,a=B(!1);async function _(){a.value||(a.value=!0,await b(300),a.value=!1,n("submit"))}return(V,d)=>{const u=C("FormKit"),k=g;return o(),c("div",null,[r(p,null,{default:t(()=>[r(S,{"order-name":e.orderName,readonly:e.readonly,"msg-source":e.msgSource},null,8,["order-name","readonly","msg-source"])]),_:1}),r(u,{type:"list",name:"products",dynamic:""},{default:t(({items:i})=>[(o(!0),c(N,null,w(i,(v,l)=>(o(),m(u,{key:v,index:l,type:"group"},{default:t(()=>[r(p,null,{default:t(()=>[r(F,{readonly:e.readonly,index:l,onDelete:()=>n("delete",l)},null,8,["readonly","index","onDelete"])]),_:2},1024)]),_:2},1032,["index"]))),128))]),_:1}),s("div",null,[e.readonly?f("",!0):(o(),m(K,{key:0,icon:"pi pi-plus",label:"Добавить товар",onClick:d[0]||(d[0]=i=>n("add"))}))]),s("div",null,[r(x(D),{node:e.msgSource},null,8,["node"])]),s("div",null,[e.readonly?f("",!0):(o(),m(k,{key:0,label:"Отправить",onClick:_}))])])}}};export{P as default};
