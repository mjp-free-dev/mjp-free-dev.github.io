import{f as M,M as h,q as u,z as C,m as w,v as g,o as n,c as m,a as e,x as I,w as p,b as _,h as f,C as N,t as o,F as v,G as P,N as V,O as k,l as O}from"./entry.a1f6cece.js";import{A as b}from"./AppCard.a532ea68.js";import q from"./new-order-form.ef505ff9.js";import{_ as F}from"./_plugin-vue_export-helper.c27b6911.js";import"./product-form.1383eff9.js";import"./button.esm.f2e75a5b.js";import"./index.esm.e199cda5.js";import"./order-form.0e93d768.js";const L={class:"card-row"},A={class:"card-row"},B={class:"card"},S={class:"order-chat"},z={class:"user-message"},D=80,K=90,R="В обработке",T="01.08.2023 12:34",U=M({__name:"my-order-info",setup(E){const c=h().query.orderId,s=Array.isArray(c)?c[0]:c,d=u(null);C(async()=>{var l;const r=await w().from("orders").select().eq("id",s);d.value=(l=r.data)==null?void 0:l.at(0)});const a=u(""),i=u([{id:1,fromModerator:!0,text:"Здравствуйте, Иван! Благодарим за ваш заказ. Какой размер футболок вам нужен?"},{id:2,fromModerator:!1,text:"Размер футболок - L, а носки обычные 39-42."},{id:3,fromModerator:!0,text:"Отлично! Ваш заказ принят. Оплатите, пожалуйста, сумму в 1500 рублей на указанный ниже счет."},{id:4,fromModerator:!1,text:"Хорошо, сейчас оплачу. Как долго займет доставка?"},{id:5,fromModerator:!0,text:"После оплаты, доставка займет около 3-5 рабочих дней. Мы приложим все усилия, чтобы доставить вам заказ как можно скорее."},{id:6,fromModerator:!1,text:"Отлично, спасибо за помощь! Жду доставки."},{id:7,fromModerator:!0,text:"Не за что, Иван! Если у вас возникнут вопросы или нужна дополнительная помощь, обращайтесь."}]),y=()=>{a.value&&(i.value.push({id:i.value.length+1,fromModerator:!1,text:a.value}),a.value="")};return(x,r)=>{const l=g("FormKit");return n(),m(v,null,[e("div",L,[d.value?(n(),I(l,{key:0,ref:"form",modelValue:d.value,"onUpdate:modelValue":r[0]||(r[0]=t=>d.value=t),type:"form",validation:"atLeastOneProduct",actions:!1},{default:p(()=>[_(q,{readonly:!0,"order-name":"#"+f(s)},null,8,["order-name"])]),_:1},8,["modelValue"])):N("",!0)]),e("div",A,[_(b,{title:"Статус заказа #"+f(s)+" (Образец)"},{default:p(()=>[e("div",{class:"order-created"}," Время создания заказа: "+o(T)),e("div",{class:"order-status"}," Статус заказа: "+o(R)),e("div",{class:"order-status"}," Цена закупки: "+o(D)+" PLN "),e("div",{class:"order-status"}," Цена продажи: "+o(K)+" PLN ")]),_:1},8,["title"])]),e("div",B,[e("h5",null,"Обсуждение заказа #"+o(f(s))+" (Образец)",1),e("div",S,[(n(!0),m(v,null,P(i.value,t=>(n(),m("div",{key:t.id,class:"chat-message"},[e("p",{class:O({"from-moderator":t.fromModerator})},o(t.fromModerator?"Менеджер:":"Иван:")+" "+o(t.text),3)]))),128))]),e("div",z,[V(e("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>a.value=t),class:"p-componet p-input",type:"text",placeholder:"Введите сообщение от вашего имени"},null,512),[[k,a.value]]),e("button",{class:"p-componet p-button",onClick:y}," Отправить ")])])],64)}}});const ee=F(U,[["__scopeId","data-v-f34f8c3c"]]);export{ee as default};
