import{p as v}from"./index.88c16502.js";import{A as c}from"./AppCardGroup.992821d5.js";import g from"./product-form.51e6cff3.js";import{r as F,j as C,c as i,b as t,w as r,a,k as f,n as y,q as x,o,F as B,z as N,G as h}from"./entry.28d93db7.js";import w from"./order-form.e0b61a3a.js";import{W as D}from"./WideButton.d78934ac.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./button.esm.c67130ee.js";import"./index.esm.7576e217.js";import"./AppCard.b95f99f4.js";const S=a("span",{class:"p-button-label","data-pc-section":"label"}," Отправить ",-1),E=a("span",{role:"presentation","aria-hidden":"true","data-p-ink":"true","data-p-ink-active":"false",class:"p-ink","data-pc-name":"ripple","data-pc-section":"root"},null,-1),K=[S,E],O={__name:"new-order-form",props:["msgSource","readonly","orderName"],emits:["add","delete","submit"],setup(_,{emit:n}){const e=_,l=F(!1);async function b(){if(l.value)return;l.value=!0;const s=document.activeElement;s instanceof HTMLElement&&s.blur(),await v(300),l.value=!1,n("submit")}return(s,u)=>{const p=C("FormKit");return o(),i("div",null,[t(c,null,{default:r(()=>[t(w,{"order-name":e.orderName,readonly:e.readonly,"msg-source":e.msgSource},null,8,["order-name","readonly","msg-source"])]),_:1}),t(p,{type:"list",name:"products",dynamic:""},{default:r(({items:m})=>[(o(!0),i(B,null,N(m,(k,d)=>(o(),f(p,{key:k,index:d,type:"group"},{default:r(()=>[t(c,null,{default:r(()=>[t(g,{readonly:e.readonly,index:d,onDelete:()=>n("delete",d)},null,8,["readonly","index","onDelete"])]),_:2},1024)]),_:2},1032,["index"]))),128))]),_:1}),a("div",null,[e.readonly?y("",!0):(o(),f(D,{key:0,icon:"pi pi-plus",label:"Добавить товар",onClick:u[0]||(u[0]=m=>n("add"))}))]),a("div",null,[t(x(h),{node:e.msgSource},null,8,["node"])]),a("div",null,[e.readonly?y("",!0):(o(),i("div",{key:0,class:"p-button p-component",type:"button","aria-label":"Отправить","data-pc-name":"button","data-pc-section":"root","data-pd-ripple":"true",onClick:b},K))])])}}};export{O as default};
