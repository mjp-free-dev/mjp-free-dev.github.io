import v from"./inputtext.esm.912f8b96.js";import{s as g}from"./button.esm.e745470e.js";import{f as x,g as M,r as d,i as I,o as a,k as i,w as y,a as c,c as w,y as b,q as l,F as k,b as u,s as B,M as C}from"./entry.3244920e.js";import{A as V}from"./AppCard.1f8e06de.js";import h from"./order-discussion-message.7cad6e07.js";import{_ as O}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.esm.96bcd54e.js";import"./AppCard.vue.63b9a7c8.js";import"./datetime.f31b9a37.js";const A={class:"chat-container"},D={class:"user-message"},N=x({__name:"order-discussion",props:{orderId:{},mode:{}},setup(m){const s=m,t=M(C),o=d([]),e=d("");I(async()=>{o.value=await t.getOrderMessages(s.orderId)});async function p(){e.value&&(s.mode==="customer"?await t.addCustomerMessage(s.orderId,e.value):await t.addModerMessage(s.orderId,e.value),e.value="",o.value=await t.getOrderMessages(s.orderId))}return(S,n)=>{const _=v,f=g;return a(),i(V,{basis:"700px",title:"Обсуждение заказа #"+s.orderId},{default:y(()=>[c("div",A,[(a(!0),w(k,null,b(l(o),r=>(a(),i(h,{time:r.createdAt,source:r.source,sender:r.displayName,text:r.displayText},null,8,["time","source","sender","text"]))),256))]),c("div",D,[u(_,{modelValue:l(e),"onUpdate:modelValue":n[0]||(n[0]=r=>B(e)?e.value=r:null),class:"messagebox",placeholder:"Введите сообщение"},null,8,["modelValue"]),u(f,{label:"Отправить",onClick:p})])]),_:1},8,["title"])}}});const z=O(N,[["__scopeId","data-v-a2858331"]]);export{z as default};
//# sourceMappingURL=order-discussion.e0b4e1db.js.map
