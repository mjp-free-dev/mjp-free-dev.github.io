{"version":3,"file":"order-form.vue.265173a6.js","sources":["../../../../src/pages/user/components/order-form.vue"],"sourcesContent":["<template>\r\n  <AppCard\r\n    basis=\"500px\"\r\n    :title=\"'Информация о заказе ' + (props.orderName ?? '')\"\r\n  >\r\n    <div class=\"content\">\r\n      <FormKitSchema\r\n        v-if=\"orderSchema\"\r\n        :schema=\"orderSchema\"\r\n      />\r\n      <FormKitMessages :node=\"props.msgSource\" />\r\n\r\n      <Button\r\n        v-if=\"!props.readonly\"\r\n        label=\"Отправить\"\r\n        @click=\"emit('submit')\"\r\n      />\r\n    </div>\r\n  </AppCard>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport AppCard from '@/components/markup/AppCard.vue';\r\nimport {FormKitMessages} from '@formkit/vue';\r\nimport {ListItemService} from '@/services/list-item.service';\r\n\r\nconst emit = defineEmits(['submit']);\r\nconst props = defineProps<{\r\n  msgSource: any;\r\n  readonly?: boolean;\r\n  orderName?: string;\r\n}>();\r\nconst orderSchema = ref(null as null | any[]);\r\nconst service = useService(ListItemService);\r\n\r\nonMounted(async () => {\r\n  const options = await service.getEnabledSippingMethods();\r\n\r\n  orderSchema.value = [\r\n    {\r\n      $formkit: 'primeCheckbox',\r\n      name: 'vatDocumentRequired',\r\n      label: 'Требуется документ для VAT',\r\n      _disabled: props.readonly,\r\n    },\r\n    {\r\n      $formkit: 'primeDropdown',\r\n      name: 'shippingMethodId',\r\n      label: 'Способ получения',\r\n      validation: 'required',\r\n      _disabled: props.readonly,\r\n      options,\r\n    },\r\n    {\r\n      $formkit: 'primeTextarea',\r\n      name: 'comment',\r\n      label: 'Коментарий',\r\n      rows: '5',\r\n      _disabled: props.readonly,\r\n    },\r\n  ];\r\n});\r\n</script>\r\n"],"names":["orderSchema","ref","service","useService","ListItemService","onMounted","options","props"],"mappings":"oXAgCMA,EAAcC,EAAI,IAAoB,EACtCC,EAAUC,EAAWC,CAAe,EAE1C,OAAAC,EAAU,SAAY,CACd,MAAAC,EAAU,MAAMJ,EAAQ,2BAE9BF,EAAY,MAAQ,CAClB,CACE,SAAU,gBACV,KAAM,sBACN,MAAO,6BACP,UAAWO,EAAM,QACnB,EACA,CACE,SAAU,gBACV,KAAM,mBACN,MAAO,mBACP,WAAY,WACZ,UAAWA,EAAM,SACjB,QAAAD,CACF,EACA,CACE,SAAU,gBACV,KAAM,UACN,MAAO,aACP,KAAM,IACN,UAAWC,EAAM,QACnB,CAAA,CACF,CACD"}