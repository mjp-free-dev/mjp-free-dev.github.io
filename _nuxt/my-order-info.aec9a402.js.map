{"version":3,"file":"my-order-info.aec9a402.js","sources":["../../../../src/pages/user/my-order-info.vue"],"sourcesContent":["<template>\r\n  <AppCardLayout>\r\n    <AppCardGroup>\r\n      <AppProductsGrid\r\n        v-if=\"orderData\"\r\n        :items=\"orderData.products\"\r\n        mode=\"user-ro\"\r\n      />\r\n    </AppCardGroup>\r\n\r\n    <AppCardGroup>\r\n      <OrderFormRo :data=\"orderFormData\" />\r\n    </AppCardGroup>\r\n\r\n    <AppCardGroup>\r\n      <AppOrderPublicStatusForm\r\n        v-if=\"orderPublicStatusDisplayData\"\r\n        :id=\"orderId\"\r\n        :data=\"orderPublicStatusDisplayData\"\r\n        :readonly=\"true\"\r\n      />\r\n    </AppCardGroup>\r\n\r\n    <AppCardGroup>\r\n      <OrderDiscussion\r\n        :order-id=\"orderId\"\r\n        mode=\"customer\"\r\n      />\r\n    </AppCardGroup>\r\n  </AppCardLayout>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport AppCardGroup from '@/components/markup/AppCardGroup.vue';\r\nimport AppOrderPublicStatusForm, {\r\n  OrderPublicStatusDisplayData,\r\n} from '@/components/app/AppOrderPublicStatusForm.vue';\r\nimport AppCardLayout from '@/components/markup/AppCardLayout.vue';\r\nimport OrderDiscussion from './components/order-discussion.vue';\r\nimport OrderFormRo, {OrderFormData} from '../user/components/order-form-ro.vue';\r\nimport {useRoute} from 'vue-router';\r\nimport {ref} from 'vue';\r\nimport {\r\n  OrderListService,\r\n  UserOrderDisplayItem,\r\n} from '@/services/order-list.service';\r\n\r\nconst route = useRoute();\r\nconst service = useService(OrderListService);\r\nconst queryParams = route.query;\r\nconst orderIdRaw = queryParams['orderId'];\r\nconst orderId = Number(Array.isArray(orderIdRaw) ? orderIdRaw[0] : orderIdRaw);\r\nconst orderData = ref(undefined as undefined | UserOrderDisplayItem);\r\nconst orderFormData = ref(undefined as undefined | OrderFormData);\r\nconst orderPublicStatusDisplayData = ref(\r\n  undefined as undefined | OrderPublicStatusDisplayData,\r\n);\r\nonMounted(async () => {\r\n  console.log('loading');\r\n  const rows = await service.getUserOrders(orderId);\r\n  const value = rows[0];\r\n  console.log('loaded');\r\n  orderData.value = value as any;\r\n  console.log(value);\r\n\r\n  const {\r\n    id,\r\n    vatDocumentRequired,\r\n    shippingMethodName,\r\n    comment,\r\n    orderStatusTypeId,\r\n    productsPriceToPay,\r\n    totalPriceToPay,\r\n    shippingPriceToPay,\r\n  } = value;\r\n\r\n  orderFormData.value = {\r\n    id,\r\n    vatDocumentRequired,\r\n    shippingMethodName,\r\n    comment,\r\n  };\r\n\r\n  orderPublicStatusDisplayData.value = {\r\n    orderStatusTypeId,\r\n    productsPriceToPay,\r\n    totalPriceToPay,\r\n    shippingPriceToPay,\r\n  };\r\n});\r\n</script>\r\n"],"names":["route","useRoute","service","useService","OrderListService","orderIdRaw","orderId","orderData","ref","orderFormData","orderPublicStatusDisplayData","onMounted","value","id","vatDocumentRequired","shippingMethodName","comment","orderStatusTypeId","productsPriceToPay","totalPriceToPay","shippingPriceToPay"],"mappings":"6kCA+CA,MAAMA,EAAQC,IACRC,EAAUC,EAAWC,CAAgB,EAErCC,EADcL,EAAM,MACK,QACzBM,EAAU,OAAO,MAAM,QAAQD,CAAU,EAAIA,EAAW,CAAC,EAAIA,CAAU,EACvEE,EAAYC,EAAI,MAA6C,EAC7DC,EAAgBD,EAAI,MAAsC,EAC1DE,EAA+BF,EACnC,MAAA,EAEF,OAAAG,EAAU,SAAY,CACpB,QAAQ,IAAI,SAAS,EAEf,MAAAC,GADO,MAAMV,EAAQ,cAAcI,CAAO,GAC7B,CAAC,EACpB,QAAQ,IAAI,QAAQ,EACpBC,EAAU,MAAQK,EAClB,QAAQ,IAAIA,CAAK,EAEX,KAAA,CACJ,GAAAC,EACA,oBAAAC,EACA,mBAAAC,EACA,QAAAC,EACA,kBAAAC,EACA,mBAAAC,EACA,gBAAAC,EACA,mBAAAC,CACE,EAAAR,EAEJH,EAAc,MAAQ,CACpB,GAAAI,EACA,oBAAAC,EACA,mBAAAC,EACA,QAAAC,CAAA,EAGFN,EAA6B,MAAQ,CACnC,kBAAAO,EACA,mBAAAC,EACA,gBAAAC,EACA,mBAAAC,CAAA,CACF,CACD"}