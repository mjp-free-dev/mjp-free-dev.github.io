{"version":3,"file":"all-order-list.a0f65a49.js","sources":["../../../../src/pages/moder/all-order-list.vue"],"sourcesContent":["<script setup lang=\"tsx\">\r\nimport {AppGrid, routerLinkIdPreset} from '@/components/grid';\r\nimport {OrderListService} from '@/services/order-list.service';\r\nimport {buildOrderConfig} from '@/logic/order-config';\r\nimport {pickGridColumns} from '@/logic/common';\r\nimport {SupabaseService} from '@/services/supabase.service';\r\n\r\nconst config = ref(null as any);\r\n\r\nonMounted(async () => {\r\n  const items = await useService(SupabaseService).getMany(async x =>\r\n    x.from('orderStatusType').select(),\r\n  );\r\n\r\n  const orderStatusOptions = items.map(({id, name, severity}) => ({\r\n    value: id,\r\n    label: name,\r\n    severity,\r\n  }));\r\n\r\n  config.value = pickGridColumns(\r\n    buildOrderConfig(orderStatusOptions, 'moder-list'),\r\n    [\r\n      'id',\r\n      'shippingMethodName',\r\n      'vatDocumentRequired',\r\n      'productsPriceToPay',\r\n      'shippingPriceToPay',\r\n      'totalPriceToPay',\r\n      'orderStatusTypeId',\r\n      'totalPriceNet',\r\n      'totalPriceGross',\r\n      'deliveryDate',\r\n      'shippingDate',\r\n      'comment',\r\n      'notes',\r\n    ],\r\n    {\r\n      title: 'Все заказы',\r\n      getData: () => useService(OrderListService).getAllOrders(),\r\n      columns: {\r\n        id: routerLinkIdPreset('/moder/all-order-info?orderId='),\r\n      },\r\n    },\r\n  );\r\n});\r\n</script>\r\n\r\n<template>\r\n  <AppGrid\r\n    v-if=\"config\"\r\n    :config=\"config\"\r\n  />\r\n</template>\r\n"],"names":["config","ref","onMounted","orderStatusOptions","useService","SupabaseService","getMany","x","from","select","map","id","name","severity","value","label","pickGridColumns","buildOrderConfig","title","getData","OrderListService","getAllOrders","columns","routerLinkIdPreset"],"mappings":"02BAOA,MAAMA,EAASC,EAAI,IAAW,EAE9BC,OAAAA,EAAU,SAAY,CAKpB,MAAMC,GAJQ,MAAMC,EAAWC,CAAe,EAAEC,QAAQ,MAAMC,GAC5DA,EAAEC,KAAK,iBAAiB,EAAEC,OAC5B,CAAA,GAEiCC,IAAI,CAAC,CAACC,GAAAA,EAAIC,KAAAA,EAAMC,SAAAA,CAAQ,KAAO,CAC9DC,MAAOH,EACPI,MAAOH,EACPC,SAAAA,CACD,EAAC,EAEFb,EAAOc,MAAQE,EACbC,EAAiBd,EAAoB,YAAY,EACjD,CACE,KACA,qBACA,sBACA,qBACA,qBACA,kBACA,oBACA,gBACA,kBACA,eACA,eACA,UACA,OAAO,EAET,CACEe,MAAO,aACPC,QAASA,IAAMf,EAAWgB,CAAgB,EAAEC,aAAc,EAC1DC,QAAS,CACPX,GAAIY,EAAmB,gCAAgC,CACzD,CACF,CACF,CACF,CAAC"}